
rules_version = '2';

service firebase.storage {
  match /b/{bucket}/o {
    // By default, deny all reads and writes from the client-side SDK.
    // Server-side operations using the Admin SDK will bypass these rules.
    // This is a secure default.
    match /{allPaths=**} {
      allow read, write: if false;
    }

    // Profile images are uploaded via the Admin SDK and made publicly readable
    // at the object level. Their public URLs will work for reading regardless
    // of the rule above. If you ever needed to perform a *client-side* read
    // operation (e.g., using getDownloadURL() from the client), you would
    // need to add a specific read rule here.
    //
    // Example for allowing client-side reads if needed in the future:
    // match /profileImages/{userId}/{fileName} {
    //   allow read: if true; 
    // }
  }
}
