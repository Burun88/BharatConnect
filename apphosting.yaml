# Settings to manage and configure a Firebase App Hosting backend.
# https://firebase.google.com/docs/app-hosting/configure

# IMPORTANT: For this file to work correctly on deployment, you must manually
# create the secrets listed below in Google Cloud Secret Manager.
# The 'secret' field (e.g., 'FIREBASE_API_KEY') must be the EXACT name you
# give the secret in the console. If you face permission errors after creating
# the secrets, run the following command in your terminal:
#
# firebase apphosting:secrets:grantaccess FIREBASE_API_KEY FIREBASE_AUTH_DOMAIN FIREBASE_PROJECT_ID FIREBASE_STORAGE_BUCKET FIREBASE_MESSAGING_SENDER_ID FIREBASE_APP_ID

# Specifies the runtime configuration for the backend.
runConfig:
  maxInstances: 2

# Defines environment variables for the backend.
# For production, it's highly recommended to use Secret Manager for sensitive data.
# The 'secret' field specifies the name of the secret in Google Cloud Secret Manager.
env:
  - variable: NEXT_PUBLIC_FIREBASE_API_KEY
    secret: FIREBASE_API_KEY
    availability:
      - BUILD
      - RUNTIME
  - variable: NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN
    secret: FIREBASE_AUTH_DOMAIN
    availability:
      - BUILD
      - RUNTIME
  - variable: NEXT_PUBLIC_FIREBASE_PROJECT_ID
    secret: FIREBASE_PROJECT_ID
    availability:
      - BUILD
      - RUNTIME
  - variable: NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET
    secret: FIREBASE_STORAGE_BUCKET
    availability:
      - BUILD
      - RUNTIME
  - variable: NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID
    secret: FIREBASE_MESSAGING_SENDER_ID
    availability:
      - BUILD
      - RUNTIME
  - variable: NEXT_PUBLIC_FIREBASE_APP_ID
    secret: FIREBASE_APP_ID
    availability:
      - BUILD
      - RUNTIME
